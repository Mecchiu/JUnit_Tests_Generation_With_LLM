ID,PROMPT_ID,DURATION,FINISH_REASON,ORIGINAL_CODE,TEST_PROMPT,GENERATED_TEST
cd48abb0-e8c9-408c-9d98-f806f327f4b2,/EvoSuiteBenchmark/original/67_gae-app-manager/src/main/java/net/sf/gaeappmanager/google/appengine/Manager.java,31.33008074760437,stop,"// Manager.java
package net.sf.gaeappmanager.google.appengine;

import net.sf.gaeappmanager.google.LogonHelper;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

/**
 * Google App Engine application manager.
 *
 * @author Alois Belaska
 */
public class Manager {

    /**
     * Retrieve quota details of application deployed in Google App Engine.
     *
     * @param userid
     *            full gmail address for user
     * @param password
     *            gmail account password
     * @param source
     *            name of application requesting quota details
     * @param application
     *            appspot application name
     * @return quota details of application
     * @throws Exception
     *             in case of failure
     */
    public static QuotaDetails retrieveAppQuotaDetails(String userid, String password, String source, String application) throws Exception;
}
","// ManagerTest.java
package net.sf.gaeappmanager.google.appengine;

import net.sf.gaeappmanager.google.LogonHelper;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

/**
* Test class of {@link Manager}.
* It contains one unit test case for the {@link Manager#retrieveAppQuotaDetails(String, String, String, String)} method.
*/
class ManagerTest {","// ManagerTest.java
package net.sf.gaeappmanager.google.appengine;

import net.sf.gaeappmanager.google.LogonHelper;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

/**
* Test class of {@link Manager}.
* It contains one unit test case for the {@link Manager#retrieveAppQuotaDetails(String, String, String, String)} method.
*/
class ManagerTest {
// ManagedBy
    private String userid = null;
		// ManagedBy
    private String password = null;
		// ManagedBy
    private String source = null;
		// ManagedBy
    private String application = null;
			
    @Test
	public void ensureAppQuotaDetails(){
		QuotaDetails qd = null;
		// Get data
        DefaultHttpClient httpClient = new DefaultHttpClient();
                HttpResponse r = null;
				try {
					// Get GET method
					HttpGet httpGet = new HttpGet(""https://www.googleapis.com/gmail/v1/users/""+userid+""/quota/""+application+""/""+source);
					r = httpClient.execute(httpGet);
                } catch (Exception e) {
                        assertFalse(true);// do nothing
                }
                assertTrue(r.getStatusLine().getStatusCode()==200);
				assertTrue(LogonHelper.checkQuota(userid, password, source));
				
    }
}

"
c4ab050f-fad1-47d3-a570-79d6b72d2d9e,/EvoSuiteBenchmark/original/67_gae-app-manager/src/main/java/net/sf/gaeappmanager/google/LogonHelper.java,51.391072511672974,length,"// LogonHelper.java
package net.sf.gaeappmanager.google;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.LineNumberReader;
import java.util.ArrayList;
import java.util.List;
import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.cookie.Cookie;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.protocol.HTTP;

/**
 * Google login helper.
 *
 * Based on work of Cheers Geoff.
 *
 * http://groups.google.com/group/google-appengine
 * -java/browse_thread/thread/c96d4fff73117e1d?pli=1
 *
 * @author Alois Belaska
 */
public class LogonHelper {

    /**
     * Returns the ACSID string to be set as the Cookie field in the request
     * header.
     *
     * @param userid
     *            full gmail address for user
     * @param password
     *            password
     * @param source
     *            name of application requesting quota details
     * @return the ACSID field value
     * @throws Exception
     *             if any error occurs getting the ACSID
     */
    public static String loginToGoogleAppEngine(String userid, String password, String source) throws Exception;

    private static String getAuthToken(InputStream inputStream) throws Exception;

    private LogonHelper() {
    }
}
","// LogonHelperTest.java
package net.sf.gaeappmanager.google;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.LineNumberReader;
import java.util.ArrayList;
import java.util.List;
import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.cookie.Cookie;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.protocol.HTTP;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

/**
* Test class of {@link LogonHelper}.
* It contains one unit test case for the {@link LogonHelper#loginToGoogleAppEngine(String, String, String)} method.
*/
class LogonHelperTest {","// LogonHelperTest.java
package net.sf.gaeappmanager.google;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.LineNumberReader;
import java.util.ArrayList;
import java.util.List;
import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.cookie.Cookie;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.protocol.HTTP;
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

/**
* Test class of {@link LogonHelper}.
* It contains one unit test case for the {@link LogonHelper#loginToGoogleAppEngine(String, String, String)} method.
*/
class LogonHelperTest {

	/**
	 * Tests case with a bad email address. This test case must be the only test case of LogonHelper.
	*/
	@Test
	public void testBadEmailAuth() throws Exception {
		HttpGet request = (HttpGet) new HttpPost(""https://email.google.com/_ah/login?email=test@test.test"").setEntity(new UrlEncodedFormEntity(
				new BasicNameValuePair(""code"", ""bad-email-code"")));
       int response = LogonHelper.loginToGoogleAppEngine(""test@test.test"", ""123456"", ""google.test"");
       assertEquals(401, response);
       
       LogonHelper.LogonHelper.requestAuthToken = null;
       LogonHelper.LogonHelper.requestEmail = null;
       response = LogonHelper.loginToGoogleAppEngine(""test@test.test"", ""123456"", ""google.test"");
       assertEquals(401, response);
    }
    
    /**
     * Tests case with a good email address. This test case must be the only test case of LogonHelper.
     */
    @Test
    public void testGoodEmailAuth() throws Exception {
        HttpGet request = (HttpGet) new HttpPost(""https://email.google.com/_ah/login?email=test@test.test"").setEntity(new UrlEncodedFormEntity(
				new BasicNameValuePair(""code"", ""good-email-code"")));
    int response = LogonHelper.loginToGoogleAppEngine(""test@test.test"", ""123456"", ""google.test"");
        assertEquals(200, response);
    }
    
	/**
	 * Tests case with a correct password. This test case must be the only test case of LogonHelper.
	 */
	@Test
	public void testPasswordAuth() throws Exception {
		HttpGet request = (HttpGet) new HttpPost(""https://login.google.com/_ah/account/login?username=test@test.test"").addHeader(""Accept"", ""text/html"");
		Cookie acceptCookie = new Cookie(""accept"", ""text/html"");
		acceptCookie.setMaxAge(0);
		request.addHeader(acceptCookie);
    int response = LogonHelper.loginToGoogleAppEngine(""test@test.test"", ""123456"", ""google.test"");
        assertEquals(200, response);
	}

	@Test
	public void testPostAuth() throws Exception {
		HttpGet request = (HttpGet) new HttpPost(""https://login.google.com/_ah/account/token/token=vbxCzBQaKrM4Q1hM3ZB8nLjxAiX0Z5Ux7d0zZi1M4C0DmHbD2cZB0sM29zcAiX0Z5uG9hZD0Z1I0JkZD2kJX0ZD0Z1ZyZ1N3QzJkZD2QmJyZD4Z1NjZ4Y0IxYzZ4eD4Z4b4Z4Y1O0MzZyZ4eD5LzZ4EfD6Z0Z1M0ZiZ1vZ0ZfZ1M0UiZ1MfZ0J0Z1JjZiXfZ0J0ZvZ1M0ZmvZ0IfZ0J0ZlZ0ZjZiZ0Z0ZmZ1M2ZmMzZ0ZfZ0Z0O0MzZgR0ZmZ0ZlZ0ZjZgZmZ0Z0ZmZ0ZlZ0ZfZ0ZjZlZ0ZfZ0ZlZ0Mi5J0ZmM0J0ZaZmM0Y2FmWzM0Y2JlYi5J0Y0ZfNmM0YmZnM2M3YfZmM0ZmZ1M0ZjBmM0ZiG9iYmJlB3YiYmJTmM0JmM0YnZn"");
        Cookie acceptCookie = new Cookie(""accept"", ""text/html"");
        acceptCookie.setMaxAge(0);
		request.addHeader(acceptCookie);
    HttpResponse result =  LogonHelper.loginToGoogleAppEngine(""test@test.test"", ""123456"", ""google.test"");
        assertEquals(200, result.getStatusLine().getStatusCode());
        BufferedReader responseReader = new BufferedReader(new InputStreamReader(result.getEntity().getContent()));
        int line = 1;
        String lineContent;
    while((lineContent = responseReader.readLine())!= null) {
      System.out.println(lineContent);
    }
	LogonHelper.LogonHelper.requestAuthToken = ""vbxCzBQaKrM4Q1hM3ZB8nLjxAiX0Z5Ux7d0zZi1M4C0DmHbD2cZB0sM29zcAiX0Z5uG9hZD0Z1I0JkZD2kJX0ZD0Z1ZyZ1N3QzJkZD2QmJyZD4Z1N3QzJkZD2QmJy"
