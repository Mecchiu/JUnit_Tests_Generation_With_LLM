[
  {
    "numberTests": "ten",
    "original_code": "// Drink.java\npackage bierse.model;\n\nimport java.awt.event.KeyEvent;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\nimport bierse.view.MyKeyMap;\n\n/**\n * @author Rainer Friesen\n */\npublic class Drink {\n\n    /**\n     * Recalculate the current price for this drink\n     */\n    public int recalculate() {\n        //Calculate new average values\n        totalSold +\u003d lastSold;\n        averageAmount \u003d (float) totalSold / model.getIteration();\n        averagePrice \u003d ((averagePrice * (model.getIteration() - 1)) + currentPrice) / model.getIteration();\n        if (totalSold \u003e 0) {\n            averageSoldPrice \u003d ((averageSoldPrice * (totalSold - lastSold)) + (currentPrice * lastSold)) / totalSold;\n        }\n        int newPrice;\n        if (directPrice !\u003d 0) {\n            // If a direct price was set, use it\n            newPrice \u003d directPrice;\n            directPrice \u003d 0;\n        } else if (keepPrice) {\n            // Keep the price\n            newPrice \u003d currentPrice;\n        } else {\n            // Calculate the new price\n            double diffSold \u003d lastSold - targetAmount;\n            double factor \u003d diffSold / deltaAmount;\n            double change \u003d factor * maxStep;\n            int priceSteps \u003d model.getSettings().getPriceSteps();\n            double rest \u003d Math.floor(Math.abs(change % priceSteps));\n            double full \u003d Math.floor(Math.abs(change / priceSteps));\n            int priceChange \u003d 0;\n            if (rest \u003e\u003d priceSteps / 2) {\n                priceChange \u003d priceSteps;\n            }\n            priceChange +\u003d full * priceSteps;\n            // Check that the change of the price is not more than the max step\n            if (priceChange \u003e maxStep) {\n                priceChange \u003d maxStep;\n            }\n            if (model.getSettings().isStandardLogic()) {\n                if (factor \u003e\u003d 0) {\n                    newPrice \u003d currentPrice + priceChange;\n                } else {\n                    newPrice \u003d currentPrice - priceChange;\n                }\n            } else {\n                // Inverse logic\n                if (factor \u003e\u003d 0) {\n                    newPrice \u003d currentPrice - priceChange;\n                } else {\n                    newPrice \u003d currentPrice + priceChange;\n                }\n            }\n        }\n        // Check that the new price is not above the max price or below the min price\n        if (newPrice \u003e maxPrice) {\n            newPrice \u003d maxPrice;\n        } else if (newPrice \u003c minPrice) {\n            newPrice \u003d minPrice;\n        }\n        // Calculate the trend\n        if (newPrice \u003e currentPrice) {\n            trend \u003d 1;\n        } else if (newPrice \u003c currentPrice) {\n            trend \u003d -1;\n        } else {\n            trend \u003d 0;\n        }\n        currentPrice \u003d newPrice;\n        //Debug output\n        model.getLog().debug(\"Recalculating drink: \" + name + \" for iteration: \" + model.getIteration());\n        model.getLog().debug(\"Last sold: \" + lastSold);\n        model.getLog().debug(\"Total sold:\" + totalSold);\n        model.getLog().debug(\"Average sold: \" + averageAmount);\n        model.getLog().debug(\"Average price: \" + averagePrice);\n        model.getLog().debug(\"Average sold price: \" + averageSoldPrice);\n        model.getLog().debug(\"New price: \" + currentPrice);\n        // Reset values for the next iteration\n        lastSold \u003d 0;\n        return currentPrice;\n    }\n}\n\n/**\n * @author Rainer Friesen\n */\npublic class Model {\n\n    /**\n     * Recalculate the prices of all drinks\n     */\n    public synchronized void recalculate() {\n        // Go over all drinks and call the recalculation of them\n        log.debug(\"Recalculate all drinks\");\n        for (Drink d : getLstUsedDrink()) {\n            d.recalculate();\n        }\n        iteration++;\n        informModelChangedListeners(EVENT_RECALCULATED);\n    }\n}\n",
    "package": "bierse.model",
    "classname": "Drink",
    "id": "/EvoSuiteBenchmark/original/49_diebierse/src/main/java/bierse/model/Drink_0Test.java",
    "test_prompt": "// Drink_0Test.java\npackage bierse.model;\n\nimport java.awt.event.KeyEvent;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\nimport bierse.view.MyKeyMap;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\n/**\n* Test class of {@link Drink}.\n* It contains ten unit test cases for the {@link Drink#recalculate()} method.\n*/\nclass Drink_0Test {",
    "method_signature": "recalculate()",
    "suffix": "0"
  },
  {
    "numberTests": "ten",
    "original_code": "// Drink.java\npackage bierse.model;\n\nimport java.awt.event.KeyEvent;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\nimport bierse.view.MyKeyMap;\n\n/**\n * @author Rainer Friesen\n */\npublic class Drink {\n\n    /**\n     * Save the drink description to a XML file\n     */\n    public File save() {\n        if (!NEW_DRINK_NAME.equals(name)) {\n            model.getLog().debug(\"Save drink: \" + name);\n            // Build JDOM document representing the settings\n            Element root \u003d new Element(\"drink\");\n            Element minPriceElem \u003d new Element(\"minPrice\");\n            minPriceElem.setText(String.valueOf(minPrice));\n            root.addContent(minPriceElem);\n            Element maxPriceElem \u003d new Element(\"maxPrice\");\n            maxPriceElem.setText(String.valueOf(maxPrice));\n            root.addContent(maxPriceElem);\n            Element startPriceElem \u003d new Element(\"startPrice\");\n            startPriceElem.setText(String.valueOf(startPrice));\n            root.addContent(startPriceElem);\n            Element targetAmountElem \u003d new Element(\"targetAmount\");\n            targetAmountElem.setText(String.valueOf(targetAmount));\n            root.addContent(targetAmountElem);\n            Element deltaAmountElem \u003d new Element(\"deltaAmount\");\n            deltaAmountElem.setText(String.valueOf(deltaAmount));\n            root.addContent(deltaAmountElem);\n            Element maxStepElem \u003d new Element(\"maxStep\");\n            maxStepElem.setText(String.valueOf(maxStep));\n            root.addContent(maxStepElem);\n            Element usedElem \u003d new Element(\"used\");\n            usedElem.setText(String.valueOf(used));\n            root.addContent(usedElem);\n            Element keyElem \u003d new Element(\"key\");\n            keyElem.setText(String.valueOf(key));\n            root.addContent(keyElem);\n            Document settingsDoc \u003d new Document(root);\n            // Save JDOM document to file system\n            File folder \u003d new File(DRINKS_FOLDER);\n            File file \u003d new File(DRINKS_FOLDER + name + \".xml\");\n            try {\n                if (!folder.exists()) {\n                    folder.mkdirs();\n                }\n                model.getLog().debug(\"File for Drink: \" + file.getAbsolutePath());\n                if (file.exists()) {\n                    file.delete();\n                }\n                file.createNewFile();\n                FileOutputStream fos \u003d new FileOutputStream(file);\n                XMLOutputter serializer \u003d new XMLOutputter();\n                serializer.output(settingsDoc, fos);\n                fos.flush();\n                fos.close();\n            } catch (Exception e) {\n                model.getLog().error(this, e);\n            }\n            return file;\n        }\n        return null;\n    }\n}\n",
    "package": "bierse.model",
    "classname": "Drink",
    "id": "/EvoSuiteBenchmark/original/49_diebierse/src/main/java/bierse/model/Drink_1Test.java",
    "test_prompt": "// Drink_1Test.java\npackage bierse.model;\n\nimport java.awt.event.KeyEvent;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\nimport bierse.view.MyKeyMap;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\n/**\n* Test class of {@link Drink}.\n* It contains ten unit test cases for the {@link Drink#save()} method.\n*/\nclass Drink_1Test {",
    "method_signature": "save()",
    "suffix": "1"
  },
  {
    "numberTests": "ten",
    "original_code": "// Settings.java\npackage bierse.model;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\n\npublic class Settings {\n\n    /**\n     * Save the settings\n     */\n    public File save() {\n        // Build JDOM document representing the settings\n        Element settingsRoot \u003d new Element(DOM_SETTINGS_ROOT);\n        Element timeIntervalElem \u003d new Element(DOM_TIME_INTERVAL);\n        timeIntervalElem.setText(String.valueOf(timeInterval));\n        settingsRoot.addContent(timeIntervalElem);\n        Element priceStepsElem \u003d new Element(DOM_PRICE_STEPS);\n        priceStepsElem.setText(String.valueOf(priceSteps));\n        settingsRoot.addContent(priceStepsElem);\n        Element currencyElem \u003d new Element(DOM_CURRENCY);\n        currencyElem.setText(currency);\n        settingsRoot.addContent(currencyElem);\n        Element backgroundElem \u003d new Element(DOM_BACKGROUND_IMG);\n        backgroundElem.addContent(backgroundImagePath);\n        settingsRoot.addContent(backgroundElem);\n        Element standardLogicElem \u003d new Element(DOM_STANDARD_LOGIC);\n        if (standardLogic) {\n            standardLogicElem.addContent(DOM_YES);\n        } else {\n            standardLogicElem.addContent(DOM_NO);\n        }\n        settingsRoot.addContent(standardLogicElem);\n        Element messageElem \u003d new Element(DOM_MESSAGE);\n        messageElem.addContent(message);\n        settingsRoot.addContent(messageElem);\n        Element messageSpeedElem \u003d new Element(DOM_MESSAGE_SPEED);\n        messageSpeedElem.addContent(new Integer(messageSpeed).toString());\n        settingsRoot.addContent(messageSpeedElem);\n        Document settingsDoc \u003d new Document(settingsRoot);\n        // Save JDOM document to file system\n        File file \u003d new File(SETTINGS_FOLDER + \"settings.xml\");\n        try {\n            File folder \u003d new File(SETTINGS_FOLDER);\n            if (!folder.exists()) {\n                folder.mkdirs();\n            }\n            if (file.exists()) {\n                file.delete();\n            }\n            file.createNewFile();\n            FileOutputStream fos \u003d new FileOutputStream(file);\n            XMLOutputter serializer \u003d new XMLOutputter();\n            serializer.output(settingsDoc, fos);\n            fos.flush();\n            fos.close();\n        } catch (Exception e) {\n            model.getLog().error(this, e);\n        }\n        return file;\n    }\n}\n",
    "package": "bierse.model",
    "classname": "Settings",
    "id": "/EvoSuiteBenchmark/original/49_diebierse/src/main/java/bierse/model/Settings.java",
    "test_prompt": "// SettingsTest.java\npackage bierse.model;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport org.jdom.Document;\nimport org.jdom.Element;\nimport org.jdom.input.SAXBuilder;\nimport org.jdom.output.XMLOutputter;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\n/**\n* Test class of {@link Settings}.\n* It contains ten unit test cases for the {@link Settings#save()} method.\n*/\nclass SettingsTest {",
    "method_signature": "save()",
    "suffix": ""
  }
]